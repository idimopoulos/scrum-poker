 2025-06-14 12:26:26.046 UTC [1] LOG:  database system is ready to accept connections
app-1       | [AUTH DEBUG] Environment check:
app-1       | - REPLIT_DOMAINS: undefined
app-1       | - REPL_ID: NOT SET
app-1       | - NODE_ENV: production
app-1       | - isActuallyOnReplit: undefined
app-1       | - isProductionDeployment: true
app-1       | - isReplitEnvironment: undefined
app-1       | [AUTH DEBUG] Running in production mode without Replit OAuth - using simple authentication
app-1       | [AUTH DEBUG] Setting up authentication...
app-1       | [AUTH DEBUG] Setting up simple production authentication...
app-1       | WebSocket server initialized on path /api/ws
app-1       | 12:26:39 PM [express] serving on port 5000
app-1       | [AUTH DEBUG] isAuthenticated check:
app-1       | - req.isAuthenticated(): false
app-1       | - req.user: NULL
app-1       | [AUTH DEBUG] Not authenticated - returning 401
app-1       | 12:27:46 PM [express] GET /api/auth/user 401 in 13ms :: {"message":"Unauthorized"}
app-1       | [AUTH DEBUG] Login request received
app-1       | [AUTH DEBUG] Creating user session: demo-user-1749904068421
app-1       | [AUTH DEBUG] Session created, upserting user
app-1       |
app-1       | file:///app/node_modules/@neondatabase/serverless/index.mjs:1345
app-1       | o?t(o):n(u)},"cb"),s=new r(function(o,u){n=o,t=u}).catch(o=>{throw Error.captureStackTrace(
app-1       |                                                                          ^
app-1       | ErrorEvent {
app-1       |   [Symbol(kTarget)]: WebSocket {
app-1       |     _events: [Object: null prototype] {
app-1       |       error: [Function: onError] {
app-1       |         [Symbol(kIsForOnEventAttribute)]: false,
app-1       |         [Symbol(kListener)]: [Function (anonymous)]
app-1       |       },
app-1       |       message: [Function: onMessage] {
app-1       |         [Symbol(kIsForOnEventAttribute)]: false,
app-1       |         [Symbol(kListener)]: [Function (anonymous)]
app-1       |       },
app-1       |       close: [Function: onClose] {
app-1       |         [Symbol(kIsForOnEventAttribute)]: false,
app-1       |         [Symbol(kListener)]: [Function (anonymous)]
app-1       |       },
app-1       |       open: [Function: onOpen] {
app-1       |         [Symbol(kIsForOnEventAttribute)]: false,
app-1       |         [Symbol(kListener)]: [Function: handleWebSocketOpen]
app-1       |       }
app-1       |     },
app-1       |     _eventsCount: 4,
app-1       |     _maxListeners: undefined,
app-1       |     _binaryType: 'arraybuffer',
app-1       |     _closeCode: 1006,
app-1       |     _closeFrameReceived: false,
app-1       |     _closeFrameSent: false,
app-1       |     _closeMessage: Buffer(0) [Uint8Array] [],
app-1       |     _closeTimer: null,
app-1       |     _errorEmitted: true,
app-1       |     _extensions: {},
app-1       |     _paused: false,
app-1       |     _protocol: '',
app-1       |     _readyState: 3,
app-1       |     _receiver: null,
app-1       |     _sender: null,
app-1       |     _socket: null,
app-1       |     _bufferedAmount: 0,
app-1       |     _isServer: false,
app-1       |     _redirects: 0,
app-1       |     _autoPong: true,
app-1       |     _url: 'wss://postgres/v2',
app-1       |     _req: null,
app-1       |     [Symbol(shapeMode)]: false,
app-1       |     [Symbol(kCapture)]: false
app-1       |   },
app-1       |   [Symbol(kType)]: 'error',
app-1       |   [Symbol(kError)]: Error: connect ECONNREFUSED 172.21.0.2:443
app-1       |       at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16) {
app-1       |     errno: -111,
app-1       |     code: 'ECONNREFUSED',
app-1       |     syscall: 'connect',
app-1       |     address: '172.21.0.2',
app-1       |     port: 443
app-1       |   },
app-1       |   [Symbol(kMessage)]: 'connect ECONNREFUSED 172.21.0.2:443'
app-1       | }
app-1       |
app-1       | Node.js v20.19.2
app-1       | npm notice
app-1       | npm notice New major version of npm available! 10.8.2 -> 11.4.2
app-1       | npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.2
app-1       | npm notice To update run: npm install -g npm@11.4.2
app-1       | npm notice
app-1       | [AUTH DEBUG] Environment check:
app-1       | - REPLIT_DOMAINS: undefined
app-1       | - REPL_ID: NOT SET
app-1       | - NODE_ENV: production
app-1       | - isActuallyOnReplit: undefined
app-1       | - isProductionDeployment: true
app-1       | - isReplitEnvironment: undefined
app-1       | [AUTH DEBUG] Running in production mode without Replit OAuth - using simple authentication
app-1       | [AUTH DEBUG] Setting up authentication...
app-1       | [AUTH DEBUG] Setting up simple production authentication...
app-1       | WebSocket server initialized on path /api/ws
app-1       | 12:27:53 PM [express] serving on port 5000